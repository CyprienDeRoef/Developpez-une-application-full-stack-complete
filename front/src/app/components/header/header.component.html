<div class="border-bottom">
  <div class="d-flex align-items-center justify-content-between px-4 py-2">
    <a [routerLink]="isAuthenticated() ? '/feed' : '/'" class="text-decoration-none" style="cursor: pointer;">
      <img src="/assets/logo_p6.png" alt="MDD Logo" style="height: 60px;" />
    </a>
    
    <!-- Desktop Navigation -->
    <nav *ngIf="isAuthenticated()" class="d-none d-md-flex gap-4">
      <a routerLink="/feed" routerLinkActive="fw-bold text-primary" class="text-decoration-none text-dark">Articles</a>
      <a routerLink="/topics" routerLinkActive="fw-bold text-primary" class="text-decoration-none text-dark">ThÃ¨mes</a>
    </nav>
    
    <!-- Desktop User Actions -->
    <div class="d-none d-md-flex align-items-center gap-3" *ngIf="isAuthenticated()">
      <button class="btn btn-link text-danger text-decoration-none p-2" (click)="logout()">Se dÃ©connecter</button>
      <a routerLink="/profile" class="rounded-circle bg-light d-flex align-items-center justify-content-center text-decoration-none" style="width: 40px; height: 40px; cursor: pointer;">
        <span style="font-size: 24px;">ðŸ‘¤</span>
      </a>
    </div>

    <!-- Mobile Burger Menu -->
    <button 
      *ngIf="isAuthenticated()"
      class="btn btn-link d-md-none p-0" 
      (click)="toggleSidebar()"
      style="font-size: 28px; color: #000;">
      â˜°
    </button>
  </div>
</div>

<!-- Mobile Sidebar Overlay -->
<div 
  *ngIf="isSidebarOpen" 
  class="position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50" 
  style="z-index: 1040;"
  (click)="closeSidebar()"></div>

<!-- Mobile Sidebar Menu -->
<div 
  class="position-fixed top-0 end-0 h-100 bg-white shadow-lg d-md-none"
  [class.show]="isSidebarOpen"
  style="width: 280px; z-index: 1050; transform: translateX(100%); transition: transform 0.3s ease-in-out;">
  
  <div class="d-flex flex-column h-100 p-4">
    <!-- Navigation Links -->
    <nav class="d-flex flex-column gap-3 mb-4">
      <a 
        routerLink="/feed" 
        routerLinkActive="fw-bold text-primary" 
        class="text-decoration-none text-dark fs-5"
        (click)="closeSidebar()">
        Articles
      </a>
      <a 
        routerLink="/topics" 
        routerLinkActive="fw-bold text-primary" 
        class="text-decoration-none text-dark fs-5"
        (click)="closeSidebar()">
        ThÃ¨mes
      </a>
    </nav>

    <!-- Spacer -->
    <div class="flex-grow-1"></div>

    <!-- Bottom Section -->
    <div class="d-flex flex-column gap-3">
      <button 
        class="btn btn-link text-danger text-decoration-none p-0 text-start fs-5" 
        (click)="logout()">
        Se dÃ©connecter
      </button>
      <a 
        routerLink="/profile" 
        class="rounded-circle bg-light d-flex align-items-center justify-content-center text-decoration-none mx-auto" 
        style="width: 50px; height: 50px; cursor: pointer;"
        (click)="closeSidebar()">
        <span style="font-size: 28px;">ðŸ‘¤</span>
      </a>
    </div>
  </div>
</div>

<style>
  .show {
    transform: translateX(0) !important;
  }
</style>
